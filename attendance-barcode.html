<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TalentaHR - Sistem Manajemen Absensi</title>

    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
        :root {
            --primary-color: #2563eb;
            --primary-dark: #1d4ed8;
            --primary-light: #3b82f6;
            --secondary-color: #f8fafc;
            --accent-color: #10b981;
            --danger-color: #ef4444;
            --warning-color: #f59e0b;
            --text-primary: #1e293b;
            --text-secondary: #64748b;
            --text-light: #94a3b8;
            --border-color: #e2e8f0;
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            --radius-sm: 8px;
            --radius-md: 12px;
            --radius-lg: 16px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc;
            color: var(--text-primary);
            font-size: 14px;
            line-height: 1.5;
        }

        .app-container {
            display: flex;
            min-height: 100vh;
        }

        /* Sidebar */
        .sidebar {
            width: 260px;
            background: white;
            border-right: 1px solid var(--border-color);
            display: flex;
            flex-direction: column;
            position: fixed;
            height: 100vh;
            z-index: 1000;
            box-shadow: var(--shadow-md);
        }

        .logo {
            padding: 24px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .logo-icon {
            width: 36px;
            height: 36px;
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 18px;
        }

        .logo-text h1 {
            font-size: 20px;
            font-weight: 700;
            color: var(--primary-color);
        }

        .logo-text p {
            font-size: 12px;
            color: var(--text-secondary);
        }

        .nav-section {
            padding: 20px 0;
            border-bottom: 1px solid var(--border-color);
        }

        .section-title {
            padding: 0 24px 12px;
            font-size: 12px;
            font-weight: 600;
            color: var(--text-light);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .nav-menu {
            list-style: none;
        }

        .nav-item {
            margin-bottom: 4px;
        }

        .nav-link {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 24px;
            color: var(--text-secondary);
            text-decoration: none;
            font-weight: 500;
            transition: all 0.2s;
            border-left: 3px solid transparent;
        }

        .nav-link:hover {
            background-color: #f1f5f9;
            color: var(--primary-color);
        }

        .nav-link.active {
            background-color: #eff6ff;
            color: var(--primary-color);
            border-left-color: var(--primary-color);
            font-weight: 600;
        }

        .nav-link i {
            width: 20px;
            text-align: center;
            font-size: 16px;
        }

        .badge {
            margin-left: auto;
            background-color: var(--danger-color);
            color: white;
            font-size: 11px;
            padding: 2px 8px;
            border-radius: 12px;
            font-weight: 600;
        }

        .user-profile {
            margin-top: auto;
            padding: 20px;
            border-top: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 16px;
        }

        .user-info h4 {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 2px;
        }

        .user-info p {
            font-size: 12px;
            color: var(--text-secondary);
        }

        /* Main Content */
        .main-content {
            flex: 1;
            margin-left: 260px;
            padding: 24px;
        }

        /* Top Bar */
        .top-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
            padding: 16px 24px;
            background: white;
            border-radius: var(--radius-md);
            box-shadow: var(--shadow-sm);
        }

        .page-title h1 {
            font-size: 24px;
            font-weight: 700;
            color: var(--text-primary);
        }

        .page-title p {
            font-size: 14px;
            color: var(--text-secondary);
            margin-top: 4px;
        }

        .top-actions {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .search-box {
            position: relative;
        }

        .search-input {
            padding: 10px 16px 10px 40px;
            border: 1px solid var(--border-color);
            border-radius: var(--radius-sm);
            font-size: 14px;
            width: 300px;
            transition: all 0.2s;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        .search-icon {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-light);
        }

        .notification-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: white;
            border: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-secondary);
            cursor: pointer;
            position: relative;
            transition: all 0.2s;
        }

        .notification-btn:hover {
            background: #f1f5f9;
            color: var(--primary-color);
        }

        .notification-badge {
            position: absolute;
            top: -2px;
            right: -2px;
            background: var(--danger-color);
            color: white;
            font-size: 10px;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Dashboard Cards */
        .dashboard-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 20px;
            margin-bottom: 24px;
        }

        .card {
            background: white;
            border-radius: var(--radius-md);
            padding: 24px;
            box-shadow: var(--shadow-sm);
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 16px;
        }

        .card-icon {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }

        .icon-present {
            background-color: #d1fae5;
            color: var(--accent-color);
        }

        .icon-late {
            background-color: #fef3c7;
            color: var(--warning-color);
        }

        .icon-absent {
            background-color: #fee2e2;
            color: var(--danger-color);
        }

        .icon-leave {
            background-color: #e0e7ff;
            color: var(--primary-color);
        }

        .card-title {
            font-size: 14px;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .card-value {
            font-size: 32px;
            font-weight: 700;
            color: var(--text-primary);
            margin: 8px 0;
        }

        .card-change {
            font-size: 12px;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .change-positive {
            color: var(--accent-color);
        }

        .change-negative {
            color: var(--danger-color);
        }

        /* Quick Actions */
        .quick-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin-bottom: 24px;
        }

        .action-btn {
            background: white;
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 16px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .action-btn:hover {
            border-color: var(--primary-color);
            background-color: #eff6ff;
            transform: translateY(-2px);
        }

        .action-icon {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            background: #eff6ff;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary-color);
            font-size: 20px;
        }

        .action-text h3 {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .action-text p {
            font-size: 12px;
            color: var(--text-secondary);
        }

        /* Charts Section */
        .charts-section {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 24px;
            margin-bottom: 24px;
        }

        .chart-card {
            background: white;
            border-radius: var(--radius-md);
            padding: 24px;
            box-shadow: var(--shadow-sm);
        }

        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }

        .chart-title h3 {
            font-size: 18px;
            font-weight: 600;
        }

        .chart-title p {
            font-size: 14px;
            color: var(--text-secondary);
            margin-top: 4px;
        }

        .chart-actions {
            display: flex;
            gap: 8px;
        }

        .chart-btn {
            padding: 8px 16px;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            background: white;
            font-size: 12px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
        }

        .chart-btn:hover {
            border-color: var(--primary-color);
            color: var(--primary-color);
        }

        .chart-btn.active {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }

        .chart-container {
            height: 300px;
            position: relative;
        }

        /* Attendance Log */
        .attendance-log {
            background: white;
            border-radius: var(--radius-md);
            padding: 24px;
            box-shadow: var(--shadow-sm);
        }

        .log-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }

        .log-title h3 {
            font-size: 18px;
            font-weight: 600;
        }

        .log-title p {
            font-size: 14px;
            color: var(--text-secondary);
            margin-top: 4px;
        }

        .log-filters {
            display: flex;
            gap: 12px;
        }

        .filter-btn {
            padding: 8px 16px;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            background: white;
            font-size: 12px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
        }

        .filter-btn:hover {
            border-color: var(--primary-color);
            color: var(--primary-color);
        }

        .filter-btn.active {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }

        /* Table */
        .table-container {
            overflow-x: auto;
            border-radius: var(--radius-sm);
            border: 1px solid var(--border-color);
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
            min-width: 800px;
        }

        .data-table thead {
            background-color: #f8fafc;
        }

        .data-table th {
            padding: 16px;
            text-align: left;
            font-weight: 600;
            color: var(--text-primary);
            border-bottom: 1px solid var(--border-color);
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .data-table td {
            padding: 16px;
            border-bottom: 1px solid var(--border-color);
            vertical-align: middle;
        }

        .data-table tbody tr:last-child td {
            border-bottom: none;
        }

        .data-table tbody tr:hover {
            background-color: #f8fafc;
        }

        .status-badge {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            display: inline-block;
        }

        .status-present {
            background-color: #d1fae5;
            color: #065f46;
        }

        .status-late {
            background-color: #fef3c7;
            color: #92400e;
        }

        .status-absent {
            background-color: #fee2e2;
            color: #991b1b;
        }

        .status-leave {
            background-color: #dbeafe;
            color: #1e40af;
        }

        .employee-info {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .employee-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 14px;
        }

        .employee-details h4 {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 2px;
        }

        .employee-details p {
            font-size: 12px;
            color: var(--text-secondary);
        }

        .action-dropdown {
            position: relative;
        }

        .action-menu {
            position: absolute;
            right: 0;
            top: 100%;
            background: white;
            border-radius: var(--radius-sm);
            box-shadow: var(--shadow-lg);
            min-width: 180px;
            display: none;
            z-index: 100;
            border: 1px solid var(--border-color);
        }

        .action-menu.show {
            display: block;
        }

        .action-item {
            padding: 12px 16px;
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .action-item:hover {
            background-color: #f8fafc;
        }

        .action-item i {
            width: 16px;
            color: var(--text-secondary);
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: var(--radius-lg);
            width: 90%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
            animation: modalSlideIn 0.3s ease;
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .modal-header {
            padding: 24px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-title {
            font-size: 20px;
            font-weight: 600;
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 20px;
            color: var(--text-light);
            cursor: pointer;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.2s;
        }

        .modal-close:hover {
            background-color: #f1f5f9;
        }

        .modal-body {
            padding: 24px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            font-size: 14px;
            font-weight: 500;
            margin-bottom: 8px;
            color: var(--text-primary);
        }

        .form-control {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid var(--border-color);
            border-radius: var(--radius-sm);
            font-size: 14px;
            transition: all 0.2s;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        .form-select {
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%2364748b' viewBox='0 0 16 16'%3E%3Cpath d='M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 16px center;
            background-size: 16px;
            padding-right: 40px;
        }

        .form-actions {
            display: flex;
            gap: 12px;
            margin-top: 32px;
        }

        .btn {
            padding: 12px 24px;
            border-radius: var(--radius-sm);
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: white;
        }

        .btn-primary:hover {
            background-color: var(--primary-dark);
        }

        .btn-secondary {
            background-color: white;
            color: var(--text-primary);
            border: 1px solid var(--border-color);
        }

        .btn-secondary:hover {
            background-color: #f8fafc;
        }

        .btn-block {
            width: 100%;
        }

        /* Attendance Check-in/out */
        .attendance-widget {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            color: white;
            border-radius: var(--radius-lg);
            padding: 32px;
            text-align: center;
            margin-bottom: 24px;
        }

        .attendance-time {
            font-size: 48px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .attendance-date {
            font-size: 16px;
            opacity: 0.9;
            margin-bottom: 24px;
        }

        .attendance-btn {
            padding: 16px 48px;
            background: white;
            color: var(--primary-color);
            border: none;
            border-radius: var(--radius-md);
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .attendance-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }

        .attendance-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* QR Scanner */
        .scanner-container {
            width: 100%;
            max-width: 500px;
            margin: 0 auto;
            background: black;
            border-radius: var(--radius-md);
            overflow: hidden;
            position: relative;
        }

        .scanner-frame {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 200px;
            height: 200px;
            border: 3px solid white;
            border-radius: 12px;
        }

        /* Responsive */
        @media (max-width: 1200px) {
            .charts-section {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 992px) {
            .sidebar {
                transform: translateX(-100%);
                transition: transform 0.3s ease;
            }

            .sidebar.active {
                transform: translateX(0);
            }

            .main-content {
                margin-left: 0;
            }

            .search-input {
                width: 200px;
            }
        }

        @media (max-width: 768px) {
            .dashboard-cards {
                grid-template-columns: repeat(2, 1fr);
            }

            .quick-actions {
                grid-template-columns: 1fr;
            }

            .search-input {
                display: none;
            }
        }

        @media (max-width: 576px) {
            .dashboard-cards {
                grid-template-columns: 1fr;
            }

            .main-content {
                padding: 16px;
            }

            .log-filters {
                flex-wrap: wrap;
            }
        }

        /* Loading State */
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 200px;
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 3px solid var(--border-color);
            border-top-color: var(--primary-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }
    </style>
</head>

<body>
    <div class="app-container">
        <!-- Sidebar -->
        <div class="sidebar" id="sidebar">
            <div class="logo">
                <div class="logo-icon">
                    <i class="fas fa-user-tie"></i>
                </div>
                <div class="logo-text">
                    <h1>TalentaHR</h1>
                    <p>Human Resources</p>
                </div>
            </div>

            <div class="nav-section">
                <div class="section-title">Utama</div>
                <ul class="nav-menu">
                    <li class="nav-item">
                        <a href="#" class="nav-link active" data-page="dashboard">
                            <i class="fas fa-home"></i>
                            Dashboard
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-page="attendance">
                            <i class="fas fa-clock"></i>
                            Kehadiran
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-page="employees">
                            <i class="fas fa-users"></i>
                            Karyawan
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-page="leave">
                            <i class="fas fa-calendar-alt"></i>
                            Cuti & Izin
                            <span class="badge">3</span>
                        </a>
                    </li>
                </ul>
            </div>

            <div class="nav-section">
                <div class="section-title">Pengaturan</div>
                <ul class="nav-menu">
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-page="locations">
                            <i class="fas fa-map-marker-alt"></i>
                            Lokasi Kerja
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-page="shifts">
                            <i class="fas fa-calendar-day"></i>
                            Shift Kerja
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-page="reports">
                            <i class="fas fa-chart-bar"></i>
                            Laporan
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-page="settings">
                            <i class="fas fa-cog"></i>
                            Pengaturan
                        </a>
                    </li>
                </ul>
            </div>

            <div class="user-profile">
                <div class="user-avatar" id="userAvatar">JD</div>
                <div class="user-info">
                    <h4 id="userName">John Doe</h4>
                    <p id="userRole">HR Manager</p>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Top Bar -->
            <div class="top-bar">
                <div class="page-title">
                    <h1 id="pageTitle">Dashboard</h1>
                    <p id="pageSubtitle">Ringkasan data kehadiran dan aktivitas</p>
                </div>
                <div class="top-actions">
                    <div class="search-box">
                        <i class="fas fa-search search-icon"></i>
                        <input type="text" class="search-input" placeholder="Cari karyawan, laporan...">
                    </div>
                    <button class="notification-btn" id="notificationBtn">
                        <i class="fas fa-bell"></i>
                        <span class="notification-badge">3</span>
                    </button>
                </div>
            </div>

            <!-- Dashboard Page -->
            <div id="dashboardPage" class="page-content">
                <!-- Dashboard Cards -->
                <div class="dashboard-cards">
                    <div class="card">
                        <div class="card-header">
                            <div>
                                <div class="card-title">Kehadiran Hari Ini</div>
                                <div class="card-value" id="todayPresent">45</div>
                            </div>
                            <div class="card-icon icon-present">
                                <i class="fas fa-check-circle"></i>
                            </div>
                        </div>
                        <div class="card-change change-positive">
                            <i class="fas fa-arrow-up"></i>
                            <span>12% dari kemarin</span>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div>
                                <div class="card-title">Keterlambatan</div>
                                <div class="card-value" id="todayLate">8</div>
                            </div>
                            <div class="card-icon icon-late">
                                <i class="fas fa-clock"></i>
                            </div>
                        </div>
                        <div class="card-change change-negative">
                            <i class="fas fa-arrow-down"></i>
                            <span>5% dari kemarin</span>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div>
                                <div class="card-title">Tidak Hadir</div>
                                <div class="card-value" id="todayAbsent">3</div>
                            </div>
                            <div class="card-icon icon-absent">
                                <i class="fas fa-times-circle"></i>
                            </div>
                        </div>
                        <div class="card-change change-positive">
                            <i class="fas fa-arrow-down"></i>
                            <span>2% dari kemarin</span>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div>
                                <div class="card-title">Sedang Cuti</div>
                                <div class="card-value" id="todayLeave">7</div>
                            </div>
                            <div class="card-icon icon-leave">
                                <i class="fas fa-calendar-alt"></i>
                            </div>
                        </div>
                        <div class="card-change change-positive">
                            <i class="fas fa-arrow-up"></i>
                            <span>3% dari kemarin</span>
                        </div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="quick-actions">
                    <div class="action-btn" id="quickCheckIn">
                        <div class="action-icon">
                            <i class="fas fa-fingerprint"></i>
                        </div>
                        <div class="action-text">
                            <h3>Check-in</h3>
                            <p>Absensi masuk kerja</p>
                        </div>
                    </div>

                    <div class="action-btn" id="quickCheckOut">
                        <div class="action-icon">
                            <i class="fas fa-sign-out-alt"></i>
                        </div>
                        <div class="action-text">
                            <h3>Check-out</h3>
                            <p>Absensi pulang kerja</p>
                        </div>
                    </div>

                    <div class="action-btn" id="quickLeave">
                        <div class="action-icon">
                            <i class="fas fa-file-alt"></i>
                        </div>
                        <div class="action-text">
                            <h3>Ajukan Cuti</h3>
                            <p>Pengajuan cuti & izin</p>
                        </div>
                    </div>

                    <div class="action-btn" id="quickReport">
                        <div class="action-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="action-text">
                            <h3>Laporan</h3>
                            <p>Lihat laporan kehadiran</p>
                        </div>
                    </div>
                </div>

                <!-- Charts Section -->
                <div class="charts-section">
                    <div class="chart-card">
                        <div class="chart-header">
                            <div class="chart-title">
                                <h3>Statistik Kehadiran Bulanan</h3>
                                <p>Data kehadiran 30 hari terakhir</p>
                            </div>
                            <div class="chart-actions">
                                <button class="chart-btn active">30 Hari</button>
                                <button class="chart-btn">7 Hari</button>
                                <button class="chart-btn">Hari Ini</button>
                            </div>
                        </div>
                        <div class="chart-container">
                            <canvas id="attendanceChart"></canvas>
                        </div>
                    </div>

                    <div class="chart-card">
                        <div class="chart-header">
                            <div class="chart-title">
                                <h3>Distribusi Kehadiran</h3>
                                <p>Persentase status kehadiran</p>
                            </div>
                        </div>
                        <div class="chart-container">
                            <canvas id="attendancePieChart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Attendance Log -->
                <div class="attendance-log">
                    <div class="log-header">
                        <div class="log-title">
                            <h3>Log Kehadiran Terbaru</h3>
                            <p>Riwayat absensi hari ini</p>
                        </div>
                        <div class="log-filters">
                            <button class="filter-btn active">Semua</button>
                            <button class="filter-btn">Hadir</button>
                            <button class="filter-btn">Terlambat</button>
                            <button class="filter-btn">Tidak Hadir</button>
                        </div>
                    </div>
                    <div class="table-container">
                        <table class="data-table" id="recentAttendanceTable">
                            <thead>
                                <tr>
                                    <th>Karyawan</th>
                                    <th>Waktu</th>
                                    <th>Status</th>
                                    <th>Lokasi</th>
                                    <th>Shift</th>
                                    <th>Aksi</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Data will be loaded dynamically -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Attendance Page -->
            <div id="attendancePage" class="page-content" style="display: none;">
                <!-- Attendance Widget -->
                <div class="attendance-widget">
                    <div class="attendance-time" id="currentTime">--:--:--</div>
                    <div class="attendance-date" id="currentDate">-- --- ----</div>
                    <button class="attendance-btn" id="checkInOutBtn">
                        <i class="fas fa-fingerprint"></i> Check-in
                    </button>
                </div>

                <!-- Attendance Statistics -->
                <div class="dashboard-cards">
                    <div class="card">
                        <div class="card-header">
                            <div>
                                <div class="card-title">Jam Kerja Hari Ini</div>
                                <div class="card-value" id="todayWorkHours">0:00</div>
                            </div>
                            <div class="card-icon icon-present">
                                <i class="fas fa-clock"></i>
                            </div>
                        </div>
                        <div class="card-change">
                            <span>Target: 8 jam</span>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div>
                                <div class="card-title">Check-in</div>
                                <div class="card-value" id="todayCheckIn">--:--</div>
                            </div>
                            <div class="card-icon icon-present">
                                <i class="fas fa-sign-in-alt"></i>
                            </div>
                        </div>
                        <div class="card-change">
                            <span>Jadwal: 08:00</span>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div>
                                <div class="card-title">Check-out</div>
                                <div class="card-value" id="todayCheckOut">--:--</div>
                            </div>
                            <div class="card-icon icon-present">
                                <i class="fas fa-sign-out-alt"></i>
                            </div>
                        </div>
                        <div class="card-change">
                            <span>Jadwal: 17:00</span>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div>
                                <div class="card-title">Status</div>
                                <div class="card-value" id="attendanceStatusText">Belum Absen</div>
                            </div>
                            <div class="card-icon icon-absent">
                                <i class="fas fa-info-circle"></i>
                            </div>
                        </div>
                        <div class="card-change">
                            <span>Hari kerja ke-15</span>
                        </div>
                    </div>
                </div>

                <!-- Monthly Attendance -->
                <div class="attendance-log">
                    <div class="log-header">
                        <div class="log-title">
                            <h3>Riwayat Kehadiran Bulan Ini</h3>
                            <p>Data kehadiran personal</p>
                        </div>
                        <div class="log-filters">
                            <button class="filter-btn active">Bulan Ini</button>
                            <button class="filter-btn">Minggu Ini</button>
                            <button class="filter-btn">Custom</button>
                        </div>
                    </div>
                    <div class="table-container">
                        <table class="data-table" id="personalAttendanceTable">
                            <thead>
                                <tr>
                                    <th>Tanggal</th>
                                    <th>Check-in</th>
                                    <th>Check-out</th>
                                    <th>Jam Kerja</th>
                                    <th>Status</th>
                                    <th>Lokasi</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Data will be loaded dynamically -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Employees Page -->
            <div id="employeesPage" class="page-content" style="display: none;">
                <div class="log-header" style="margin-bottom: 24px;">
                    <div class="log-title">
                        <h3>Manajemen Karyawan</h3>
                        <p>Kelola data karyawan dan absensi</p>
                    </div>
                    <div class="log-filters">
                        <button class="btn btn-primary" id="addEmployeeBtn">
                            <i class="fas fa-user-plus"></i> Tambah Karyawan
                        </button>
                    </div>
                </div>

                <!-- Employee Statistics -->
                <div class="dashboard-cards">
                    <div class="card">
                        <div class="card-header">
                            <div>
                                <div class="card-title">Total Karyawan</div>
                                <div class="card-value" id="totalEmployees">0</div>
                            </div>
                            <div class="card-icon icon-present">
                                <i class="fas fa-users"></i>
                            </div>
                        </div>
                        <div class="card-change change-positive">
                            <i class="fas fa-arrow-up"></i>
                            <span>3 bulan terakhir</span>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div>
                                <div class="card-title">Karyawan Aktif</div>
                                <div class="card-value" id="activeEmployees">0</div>
                            </div>
                            <div class="card-icon icon-present">
                                <i class="fas fa-user-check"></i>
                            </div>
                        </div>
                        <div class="card-change change-positive">
                            <span>95% dari total</span>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div>
                                <div class="card-title">Rata-rata Kehadiran</div>
                                <div class="card-value" id="avgAttendance">0%</div>
                            </div>
                            <div class="card-icon icon-present">
                                <i class="fas fa-chart-line"></i>
                            </div>
                        </div>
                        <div class="card-change change-positive">
                            <i class="fas fa-arrow-up"></i>
                            <span>2% dari bulan lalu</span>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div>
                                <div class="card-title">Departemen</div>
                                <div class="card-value" id="totalDepartments">0</div>
                            </div>
                            <div class="card-icon icon-leave">
                                <i class="fas fa-building"></i>
                            </div>
                        </div>
                        <div class="card-change">
                            <span>5 departemen aktif</span>
                        </div>
                    </div>
                </div>

                <!-- Employee List -->
                <div class="attendance-log">
                    <div class="log-header">
                        <div class="log-title">
                            <h3>Daftar Karyawan</h3>
                            <p>Semua karyawan terdaftar</p>
                        </div>
                        <div class="search-box">
                            <i class="fas fa-search search-icon"></i>
                            <input type="text" class="search-input" id="employeeSearch" placeholder="Cari karyawan...">
                        </div>
                    </div>
                    <div class="table-container">
                        <table class="data-table" id="employeesTable">
                            <thead>
                                <tr>
                                    <th>Karyawan</th>
                                    <th>ID</th>
                                    <th>Departemen</th>
                                    <th>Posisi</th>
                                    <th>Status</th>
                                    <th>Kehadiran</th>
                                    <th>Aksi</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Data will be loaded dynamically -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Leave Page -->
            <div id="leavePage" class="page-content" style="display: none;">
                <div class="log-header" style="margin-bottom: 24px;">
                    <div class="log-title">
                        <h3>Manajemen Cuti & Izin</h3>
                        <p>Kelola pengajuan cuti dan izin karyawan</p>
                    </div>
                    <div class="log-filters">
                        <button class="btn btn-primary" id="applyLeaveBtn">
                            <i class="fas fa-plus"></i> Ajukan Cuti
                        </button>
                    </div>
                </div>

                <!-- Leave Statistics -->
                <div class="dashboard-cards">
                    <div class="card">
                        <div class="card-header">
                            <div>
                                <div class="card-title">Pengajuan Pending</div>
                                <div class="card-value" id="pendingLeaves">0</div>
                            </div>
                            <div class="card-icon icon-late">
                                <i class="fas fa-clock"></i>
                            </div>
                        </div>
                        <div class="card-change change-positive">
                            <span>Perlu persetujuan</span>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div>
                                <div class="card-title">Disetujui Bulan Ini</div>
                                <div class="card-value" id="approvedLeaves">0</div>
                            </div>
                            <div class="card-icon icon-present">
                                <i class="fas fa-check-circle"></i>
                            </div>
                        </div>
                        <div class="card-change change-positive">
                            <i class="fas fa-arrow-up"></i>
                            <span>15% dari bulan lalu</span>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div>
                                <div class="card-title">Ditolak Bulan Ini</div>
                                <div class="card-value" id="rejectedLeaves">0</div>
                            </div>
                            <div class="card-icon icon-absent">
                                <i class="fas fa-times-circle"></i>
                            </div>
                        </div>
                        <div class="card-change change-negative">
                            <i class="fas fa-arrow-down"></i>
                            <span>5% dari bulan lalu</span>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div>
                                <div class="card-title">Sisa Cuti Tahunan</div>
                                <div class="card-value" id="remainingLeaves">12</div>
                            </div>
                            <div class="card-icon icon-leave">
                                <i class="fas fa-calendar-alt"></i>
                            </div>
                        </div>
                        <div class="card-change">
                            <span>Dari 18 hari</span>
                        </div>
                    </div>
                </div>

                <!-- Leave Requests -->
                <div class="attendance-log">
                    <div class="log-header">
                        <div class="log-title">
                            <h3>Pengajuan Cuti Terbaru</h3>
                            <p>Monitor pengajuan cuti karyawan</p>
                        </div>
                        <div class="log-filters">
                            <button class="filter-btn active">Semua</button>
                            <button class="filter-btn">Pending</button>
                            <button class="filter-btn">Disetujui</button>
                            <button class="filter-btn">Ditolak</button>
                        </div>
                    </div>
                    <div class="table-container">
                        <table class="data-table" id="leavesTable">
                            <thead>
                                <tr>
                                    <th>Karyawan</th>
                                    <th>Jenis Cuti</th>
                                    <th>Tanggal</th>
                                    <th>Durasi</th>
                                    <th>Status</th>
                                    <th>Alasan</th>
                                    <th>Aksi</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Data will be loaded dynamically -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Locations Page -->
            <div id="locationsPage" class="page-content" style="display: none;">
                <div class="log-header" style="margin-bottom: 24px;">
                    <div class="log-title">
                        <h3>Manajemen Lokasi Kerja</h3>
                        <p>Kelola lokasi dan area absensi</p>
                    </div>
                    <div class="log-filters">
                        <button class="btn btn-primary" id="addLocationBtn">
                            <i class="fas fa-map-marker-alt"></i> Tambah Lokasi
                        </button>
                        <button class="btn btn-secondary" id="generateQRCodesBtn">
                            <i class="fas fa-qrcode"></i> Generate QR Code
                        </button>
                    </div>
                </div>

                <!-- Locations Grid -->
                <div class="dashboard-cards" style="grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));">
                    <!-- Locations will be loaded dynamically -->
                </div>

                <!-- Location Attendance -->
                <div class="attendance-log" style="margin-top: 24px;">
                    <div class="log-header">
                        <div class="log-title">
                            <h3>Kehadiran per Lokasi</h3>
                            <p>Distribusi kehadiran berdasarkan lokasi</p>
                        </div>
                        <div class="log-filters">
                            <button class="filter-btn active">Hari Ini</button>
                            <button class="filter-btn">Minggu Ini</button>
                            <button class="filter-btn">Bulan Ini</button>
                        </div>
                    </div>
                    <div class="table-container">
                        <table class="data-table" id="locationAttendanceTable">
                            <thead>
                                <tr>
                                    <th>Lokasi</th>
                                    <th>Karyawan</th>
                                    <th>Hadir</th>
                                    <th>Terlambat</th>
                                    <th>Tidak Hadir</th>
                                    <th>Persentase</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Data will be loaded dynamically -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Shifts Page -->
            <div id="shiftsPage" class="page-content" style="display: none;">
                <div class="log-header" style="margin-bottom: 24px;">
                    <div class="log-title">
                        <h3>Manajemen Shift Kerja</h3>
                        <p>Kelola jadwal shift karyawan</p>
                    </div>
                    <div class="log-filters">
                        <button class="btn btn-primary" id="addShiftBtn">
                            <i class="fas fa-plus"></i> Tambah Shift
                        </button>
                        <button class="btn btn-secondary" id="assignShiftBtn">
                            <i class="fas fa-user-clock"></i> Assign Shift
                        </button>
                    </div>
                </div>

                <!-- Shift Statistics -->
                <div class="dashboard-cards">
                    <div class="card">
                        <div class="card-header">
                            <div>
                                <div class="card-title">Total Shift</div>
                                <div class="card-value" id="totalShifts">0</div>
                            </div>
                            <div class="card-icon icon-present">
                                <i class="fas fa-calendar-day"></i>
                            </div>
                        </div>
                        <div class="card-change">
                            <span>Aktif: 5 shift</span>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div>
                                <div class="card-title">Shift Pagi</div>
                                <div class="card-value" id="morningShift">0</div>
                            </div>
                            <div class="card-icon icon-present">
                                <i class="fas fa-sun"></i>
                            </div>
                        </div>
                        <div class="card-change">
                            <span>08:00 - 16:00</span>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div>
                                <div class="card-title">Shift Siang</div>
                                <div class="card-value" id="afternoonShift">0</div>
                            </div>
                            <div class="card-icon icon-late">
                                <i class="fas fa-clock"></i>
                            </div>
                        </div>
                        <div class="card-change">
                            <span>13:00 - 21:00</span>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div>
                                <div class="card-title">Shift Malam</div>
                                <div class="card-value" id="nightShift">0</div>
                            </div>
                            <div class="card-icon icon-absent">
                                <i class="fas fa-moon"></i>
                            </div>
                        </div>
                        <div class="card-change">
                            <span>21:00 - 05:00</span>
                        </div>
                    </div>
                </div>

                <!-- Shift List -->
                <div class="attendance-log">
                    <div class="log-header">
                        <div class="log-title">
                            <h3>Daftar Shift</h3>
                            <p>Konfigurasi shift kerja</p>
                        </div>
                        <div class="log-filters">
                            <button class="filter-btn active">Semua</button>
                            <button class="filter-btn">Aktif</button>
                            <button class="filter-btn">Non-Aktif</button>
                        </div>
                    </div>
                    <div class="table-container">
                        <table class="data-table" id="shiftsTable">
                            <thead>
                                <tr>
                                    <th>Nama Shift</th>
                                    <th>Jam Masuk</th>
                                    <th>Jam Pulang</th>
                                    <th>Durasi</th>
                                    <th>Toleransi</th>
                                    <th>Karyawan</th>
                                    <th>Status</th>
                                    <th>Aksi</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Data will be loaded dynamically -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Reports Page -->
            <div id="reportsPage" class="page-content" style="display: none;">
                <div class="log-header" style="margin-bottom: 24px;">
                    <div class="log-title">
                        <h3>Laporan & Analisis</h3>
                        <p>Generate dan ekspor laporan kehadiran</p>
                    </div>
                    <div class="log-filters">
                        <button class="btn btn-primary" id="generateReportBtn">
                            <i class="fas fa-file-pdf"></i> Generate PDF
                        </button>
                        <button class="btn btn-secondary" id="exportExcelBtn">
                            <i class="fas fa-file-excel"></i> Export Excel
                        </button>
                    </div>
                </div>

                <!-- Report Filters -->
                <div class="attendance-log" style="margin-bottom: 24px;">
                    <div class="log-header">
                        <div class="log-title">
                            <h3>Filter Laporan</h3>
                            <p>Pilih parameter laporan</p>
                        </div>
                    </div>
                    <div class="form-group"
                        style="padding: 24px; display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;">
                        <div>
                            <label class="form-label">Periode</label>
                            <select class="form-control form-select" id="reportPeriod">
                                <option value="today">Hari Ini</option>
                                <option value="week">Minggu Ini</option>
                                <option value="month" selected>Bulan Ini</option>
                                <option value="quarter">Kuartal Ini</option>
                                <option value="year">Tahun Ini</option>
                                <option value="custom">Custom</option>
                            </select>
                        </div>
                        <div>
                            <label class="form-label">Departemen</label>
                            <select class="form-control form-select" id="reportDepartment">
                                <option value="">Semua Departemen</option>
                                <option value="IT">IT</option>
                                <option value="HRD">HRD</option>
                                <option value="Finance">Finance</option>
                                <option value="Marketing">Marketing</option>
                                <option value="Operations">Operations</option>
                            </select>
                        </div>
                        <div>
                            <label class="form-label">Lokasi</label>
                            <select class="form-control form-select" id="reportLocation">
                                <option value="">Semua Lokasi</option>
                            </select>
                        </div>
                        <div>
                            <label class="form-label">Tipe Laporan</label>
                            <select class="form-control form-select" id="reportType">
                                <option value="attendance">Kehadiran</option>
                                <option value="leave">Cuti & Izin</option>
                                <option value="overtime">Lembur</option>
                                <option value="summary">Ringkasan</option>
                            </select>
                        </div>
                    </div>
                    <div style="padding: 0 24px 24px;">
                        <button class="btn btn-primary btn-block" id="loadReportDataBtn">
                            <i class="fas fa-sync"></i> Muat Data Laporan
                        </button>
                    </div>
                </div>

                <!-- Report Preview -->
                <div class="attendance-log">
                    <div class="log-header">
                        <div class="log-title">
                            <h3>Preview Laporan</h3>
                            <p>Data berdasarkan filter yang dipilih</p>
                        </div>
                    </div>
                    <div class="table-container">
                        <table class="data-table" id="reportTable">
                            <thead>
                                <tr>
                                    <th>Karyawan</th>
                                    <th>Departemen</th>
                                    <th>Total Hadir</th>
                                    <th>Total Terlambat</th>
                                    <th>Total Cuti</th>
                                    <th>Jam Kerja</th>
                                    <th>Lembur</th>
                                    <th>Persentase</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Data will be loaded dynamically -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Settings Page -->
            <div id="settingsPage" class="page-content" style="display: none;">
                <div class="log-header" style="margin-bottom: 24px;">
                    <div class="log-title">
                        <h3>Pengaturan Sistem</h3>
                        <p>Konfigurasi aplikasi TalentaHR</p>
                    </div>
                </div>

                <!-- Settings Tabs -->
                <div class="attendance-log">
                    <div class="log-header" style="border-bottom: 1px solid var(--border-color);">
                        <div class="log-filters" style="border-bottom: none;">
                            <button class="filter-btn active" data-tab="general">Umum</button>
                            <button class="filter-btn" data-tab="attendanceSettings">Kehadiran</button>
                            <button class="filter-btn" data-tab="notifications">Notifikasi</button>
                            <button class="filter-btn" data-tab="security">Keamanan</button>
                        </div>
                    </div>

                    <!-- General Settings -->
                    <div class="tab-content active" id="generalSettings" style="padding: 24px;">
                        <div class="form-group">
                            <label class="form-label">Nama Perusahaan</label>
                            <input type="text" class="form-control" value="PT Talenta Digital Indonesia">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Alamat Perusahaan</label>
                            <textarea class="form-control" rows="3">Jl. Sudirman No. 123, Jakarta Pusat</textarea>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Logo Perusahaan</label>
                            <input type="file" class="form-control">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Zona Waktu</label>
                            <select class="form-control form-select">
                                <option value="WIB">WIB (UTC+7)</option>
                                <option value="WITA">WITA (UTC+8)</option>
                                <option value="WIT">WIT (UTC+9)</option>
                            </select>
                        </div>
                        <div class="form-actions">
                            <button class="btn btn-primary">Simpan Perubahan</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modals -->
    <!-- Check-in Modal -->
    <div class="modal" id="checkInModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Check-in Kehadiran</h3>
                <button class="modal-close" id="closeCheckInModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="scanner-container" style="height: 300px; margin-bottom: 24px;">
                    <!-- QR Scanner would go here -->
                    <div
                        style="display: flex; align-items: center; justify-content: center; height: 100%; color: white; flex-direction: column; gap: 16px;">
                        <i class="fas fa-qrcode" style="font-size: 64px;"></i>
                        <p>Arahkan kamera ke QR code lokasi</p>
                    </div>
                    <div class="scanner-frame"></div>
                </div>
                <div class="form-group">
                    <label class="form-label">Atau masukkan kode manual</label>
                    <input type="text" class="form-control" id="manualCheckInCode" placeholder="Masukkan kode lokasi">
                </div>
                <div class="form-actions">
                    <button class="btn btn-primary btn-block" id="submitCheckInBtn">
                        <i class="fas fa-check-circle"></i> Konfirmasi Check-in
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Employee Modal -->
    <div class="modal" id="addEmployeeModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Tambah Karyawan Baru</h3>
                <button class="modal-close" id="closeEmployeeModal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="employeeForm">
                    <div class="form-group">
                        <label class="form-label">Nama Lengkap *</label>
                        <input type="text" class="form-control" id="employeeName" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Email *</label>
                        <input type="email" class="form-control" id="employeeEmail" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Nomor Telepon</label>
                        <input type="tel" class="form-control" id="employeePhone">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Departemen *</label>
                        <select class="form-control form-select" id="employeeDepartment" required>
                            <option value="">Pilih Departemen</option>
                            <option value="IT">IT</option>
                            <option value="HRD">HRD</option>
                            <option value="Finance">Finance</option>
                            <option value="Marketing">Marketing</option>
                            <option value="Operations">Operations</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Posisi *</label>
                        <input type="text" class="form-control" id="employeePosition" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Lokasi Kerja</label>
                        <select class="form-control form-select" id="employeeLocation">
                            <option value="">Pilih Lokasi</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Shift Kerja</label>
                        <select class="form-control form-select" id="employeeShift">
                            <option value="">Pilih Shift</option>
                        </select>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-save"></i> Simpan Karyawan
                        </button>
                        <button type="button" class="btn btn-secondary" id="cancelEmployeeBtn">
                            Batal
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Add Location Modal -->
    <div class="modal" id="addLocationModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Tambah Lokasi Kerja</h3>
                <button class="modal-close" id="closeLocationModal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="locationForm">
                    <div class="form-group">
                        <label class="form-label">Nama Lokasi *</label>
                        <input type="text" class="form-control" id="locationName" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Alamat *</label>
                        <textarea class="form-control" id="locationAddress" rows="3" required></textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Kode Lokasi *</label>
                        <input type="text" class="form-control" id="locationCode" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Radius (meter)</label>
                        <input type="number" class="form-control" id="locationRadius" value="100">
                        <small style="color: var(--text-light);">Jarak maksimum untuk absensi</small>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Koordinat GPS</label>
                        <input type="text" class="form-control" id="locationCoordinates"
                            placeholder="Latitude, Longitude">
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-save"></i> Simpan Lokasi
                        </button>
                        <button type="button" class="btn btn-secondary" id="cancelLocationBtn">
                            Batal
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- QR Code Modal -->
    <div class="modal" id="qrcodeModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">QR Code Lokasi</h3>
                <button class="modal-close" id="closeQRModal">&times;</button>
            </div>
            <div class="modal-body" style="text-align: center;">
                <div id="qrcodeContainer" style="margin-bottom: 24px;">
                    <div
                        style="width: 200px; height: 200px; margin: 0 auto; background: #f8fafc; border-radius: 12px; display: flex; align-items: center; justify-content: center;">
                        <i class="fas fa-qrcode" style="font-size: 80px; color: var(--text-light);"></i>
                    </div>
                </div>
                <div style="margin-bottom: 24px;">
                    <h4 id="qrcodeLocationName">Kantor Pusat</h4>
                    <p id="qrcodeLocationCode" style="color: var(--text-secondary);">LOC001</p>
                </div>
                <div class="form-actions">
                    <button class="btn btn-primary" id="printQRCodeBtn">
                        <i class="fas fa-print"></i> Cetak QR Code
                    </button>
                    <button class="btn btn-secondary" id="downloadQRCodeBtn">
                        <i class="fas fa-download"></i> Download
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Data storage
        let employees = JSON.parse(localStorage.getItem('talenta_employees')) || [];
        let locations = JSON.parse(localStorage.getItem('talenta_locations')) || [];
        let shifts = JSON.parse(localStorage.getItem('talenta_shifts')) || [];
        let attendance = JSON.parse(localStorage.getItem('talenta_attendance')) || [];
        let leaves = JSON.parse(localStorage.getItem('talenta_leaves')) || [];
        let currentUser = JSON.parse(localStorage.getItem('talenta_currentUser')) || null;

        // Initialize with sample data
        if (employees.length === 0) {
            employees = [
                {
                    id: 'EMP001',
                    name: 'John Doe',
                    email: 'john.doe@company.com',
                    phone: '081234567890',
                    department: 'IT',
                    position: 'Software Developer',
                    location: 'LOC001',
                    shift: 'SHIFT001',
                    status: 'active',
                    joinDate: '2023-01-15',
                    avatar: 'JD'
                },
                {
                    id: 'EMP002',
                    name: 'Jane Smith',
                    email: 'jane.smith@company.com',
                    phone: '081234567891',
                    department: 'HRD',
                    position: 'HR Manager',
                    location: 'LOC001',
                    shift: 'SHIFT001',
                    status: 'active',
                    joinDate: '2023-02-20',
                    avatar: 'JS'
                },
                {
                    id: 'EMP003',
                    name: 'Robert Johnson',
                    email: 'robert.j@company.com',
                    phone: '081234567892',
                    department: 'Finance',
                    position: 'Accountant',
                    location: 'LOC001',
                    shift: 'SHIFT001',
                    status: 'active',
                    joinDate: '2023-03-10',
                    avatar: 'RJ'
                }
            ];
            localStorage.setItem('talenta_employees', JSON.stringify(employees));
        }

        if (locations.length === 0) {
            locations = [
                {
                    id: 'LOC001',
                    code: 'LOC001',
                    name: 'Kantor Pusat',
                    address: 'Jl. Sudirman No. 123, Jakarta Pusat',
                    radius: 100,
                    coordinates: '-6.2088,106.8456',
                    status: 'active'
                },
                {
                    id: 'LOC002',
                    code: 'LOC002',
                    name: 'Gudang Utama',
                    address: 'Jl. Industri No. 45, Bekasi',
                    radius: 150,
                    coordinates: '-6.2349,106.9926',
                    status: 'active'
                }
            ];
            localStorage.setItem('talenta_locations', JSON.stringify(locations));
        }

        if (shifts.length === 0) {
            shifts = [
                {
                    id: 'SHIFT001',
                    name: 'Shift Pagi',
                    startTime: '08:00',
                    endTime: '17:00',
                    duration: 9,
                    tolerance: 15,
                    employeeCount: 45,
                    status: 'active'
                },
                {
                    id: 'SHIFT002',
                    name: 'Shift Siang',
                    startTime: '13:00',
                    endTime: '22:00',
                    duration: 9,
                    tolerance: 15,
                    employeeCount: 20,
                    status: 'active'
                }
            ];
            localStorage.setItem('talenta_shifts', JSON.stringify(shifts));
        }

        if (!currentUser) {
            currentUser = {
                id: 'ADMIN001',
                name: 'Admin Talenta',
                role: 'HR Manager',
                department: 'HRD',
                avatar: 'AT'
            };
            localStorage.setItem('talenta_currentUser', JSON.stringify(currentUser));
        }

        // DOM Elements
        const sidebar = document.getElementById('sidebar');
        const navLinks = document.querySelectorAll('.nav-link');
        const pageContents = document.querySelectorAll('.page-content');
        const pageTitle = document.getElementById('pageTitle');
        const pageSubtitle = document.getElementById('pageSubtitle');
        const userAvatar = document.getElementById('userAvatar');
        const userName = document.getElementById('userName');
        const userRole = document.getElementById('userRole');
        const notificationBtn = document.getElementById('notificationBtn');

        // Modal elements
        const checkInModal = document.getElementById('checkInModal');
        const addEmployeeModal = document.getElementById('addEmployeeModal');
        const addLocationModal = document.getElementById('addLocationModal');
        const qrcodeModal = document.getElementById('qrcodeModal');

        // Charts
        let attendanceChart = null;
        let attendancePieChart = null;

        // Initialize
        document.addEventListener('DOMContentLoaded', function () {
            // Set user info
            userAvatar.textContent = currentUser.avatar;
            userName.textContent = currentUser.name;
            userRole.textContent = currentUser.role;

            // Setup event listeners
            setupEventListeners();

            // Load dashboard
            loadDashboard();

            // Start clock
            updateClock();
            setInterval(updateClock, 1000);
        });

        // Setup event listeners
        function setupEventListeners() {
            // Navigation
            navLinks.forEach(link => {
                link.addEventListener('click', function (e) {
                    e.preventDefault();
                    const page = this.getAttribute('data-page');

                    // Update active nav
                    navLinks.forEach(l => l.classList.remove('active'));
                    this.classList.add('active');

                    // Update page title
                    updatePageTitle(page);

                    // Show selected page
                    pageContents.forEach(content => {
                        content.style.display = 'none';
                        if (content.id === `${page}Page`) {
                            content.style.display = 'block';
                            loadPageContent(page);
                        }
                    });
                });
            });

            // Quick actions
            document.getElementById('quickCheckIn')?.addEventListener('click', function () {
                openCheckInModal();
            });

            document.getElementById('quickCheckOut')?.addEventListener('click', function () {
                openCheckOutModal();
            });

            document.getElementById('quickLeave')?.addEventListener('click', function () {
                document.querySelector('[data-page="leave"]').click();
            });

            document.getElementById('quickReport')?.addEventListener('click', function () {
                document.querySelector('[data-page="reports"]').click();
            });

            // Attendance check-in/out button
            document.getElementById('checkInOutBtn')?.addEventListener('click', function () {
                if (this.textContent.includes('Check-in')) {
                    openCheckInModal();
                } else {
                    openCheckOutModal();
                }
            });

            // Add employee button
            document.getElementById('addEmployeeBtn')?.addEventListener('click', function () {
                openAddEmployeeModal();
            });

            // Add location button
            document.getElementById('addLocationBtn')?.addEventListener('click', function () {
                openAddLocationModal();
            });

            // Generate QR codes button
            document.getElementById('generateQRCodesBtn')?.addEventListener('click', function () {
                openQRCodeModal();
            });

            // Modal close buttons
            document.getElementById('closeCheckInModal')?.addEventListener('click', function () {
                checkInModal.classList.remove('active');
            });

            document.getElementById('closeEmployeeModal')?.addEventListener('click', function () {
                addEmployeeModal.classList.remove('active');
            });

            document.getElementById('closeLocationModal')?.addEventListener('click', function () {
                addLocationModal.classList.remove('active');
            });

            document.getElementById('closeQRModal')?.addEventListener('click', function () {
                qrcodeModal.classList.remove('active');
            });

            document.getElementById('cancelEmployeeBtn')?.addEventListener('click', function () {
                addEmployeeModal.classList.remove('active');
            });

            document.getElementById('cancelLocationBtn')?.addEventListener('click', function () {
                addLocationModal.classList.remove('active');
            });

            // Submit check-in
            document.getElementById('submitCheckInBtn')?.addEventListener('click', function () {
                const code = document.getElementById('manualCheckInCode').value;
                if (code) {
                    processCheckIn(code);
                } else {
                    alert('Masukkan kode lokasi terlebih dahulu');
                }
            });

            // Employee form submission
            document.getElementById('employeeForm')?.addEventListener('submit', function (e) {
                e.preventDefault();
                addEmployee();
            });

            // Location form submission
            document.getElementById('locationForm')?.addEventListener('submit', function (e) {
                e.preventDefault();
                addLocation();
            });

            // Filter buttons
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.addEventListener('click', function () {
                    const container = this.closest('.log-filters');
                    container.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');

                    // Reload data based on filter
                    const page = document.querySelector('.page-content[style="display: block;"]').id.replace('Page', '');
                    loadPageContent(page);
                });
            });

            // Chart buttons
            document.querySelectorAll('.chart-btn').forEach(btn => {
                btn.addEventListener('click', function () {
                    const container = this.closest('.chart-actions');
                    container.querySelectorAll('.chart-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');

                    // Reload chart data
                    loadDashboardCharts();
                });
            });

            // Settings tabs
            document.querySelectorAll('[data-tab]').forEach(btn => {
                btn.addEventListener('click', function () {
                    const tab = this.getAttribute('data-tab');
                    const container = this.closest('.attendance-log');

                    // Update active tab
                    container.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');

                    // Show corresponding tab content
                    container.querySelectorAll('.tab-content').forEach(content => {
                        content.classList.remove('active');
                        if (content.id === `${tab}Settings`) {
                            content.classList.add('active');
                        }
                    });
                });
            });
        }

        // Update page title
        function updatePageTitle(page) {
            const titles = {
                dashboard: 'Dashboard',
                attendance: 'Kehadiran',
                employees: 'Karyawan',
                leave: 'Cuti & Izin',
                locations: 'Lokasi Kerja',
                shifts: 'Shift Kerja',
                reports: 'Laporan',
                settings: 'Pengaturan'
            };

            const subtitles = {
                dashboard: 'Ringkasan data kehadiran dan aktivitas',
                attendance: 'Kelola kehadiran dan absensi',
                employees: 'Kelola data karyawan dan absensi',
                leave: 'Kelola pengajuan cuti dan izin karyawan',
                locations: 'Kelola lokasi dan area absensi',
                shifts: 'Kelola jadwal shift karyawan',
                reports: 'Generate dan ekspor laporan kehadiran',
                settings: 'Konfigurasi aplikasi TalentaHR'
            };

            pageTitle.textContent = titles[page] || 'Dashboard';
            pageSubtitle.textContent = subtitles[page] || 'Ringkasan data';
        }

        // Load page content
        function loadPageContent(page) {
            switch (page) {
                case 'dashboard':
                    loadDashboard();
                    break;
                case 'attendance':
                    loadAttendancePage();
                    break;
                case 'employees':
                    loadEmployeesPage();
                    break;
                case 'leave':
                    loadLeavePage();
                    break;
                case 'locations':
                    loadLocationsPage();
                    break;
                case 'shifts':
                    loadShiftsPage();
                    break;
                case 'reports':
                    loadReportsPage();
                    break;
                case 'settings':
                    loadSettingsPage();
                    break;
            }
        }

        // Load dashboard
        function loadDashboard() {
            // Update statistics
            updateDashboardStats();

            // Load charts
            loadDashboardCharts();

            // Load recent attendance
            loadRecentAttendance();
        }

        // Update dashboard statistics
        function updateDashboardStats() {
            const today = new Date().toISOString().split('T')[0];

            // Calculate statistics
            const presentCount = attendance.filter(a =>
                a.date === today && a.status === 'present'
            ).length;

            const lateCount = attendance.filter(a =>
                a.date === today && a.status === 'late'
            ).length;

            const absentCount = employees.length - presentCount - lateCount;
            const leaveCount = leaves.filter(l =>
                l.startDate <= today && l.endDate >= today && l.status === 'approved'
            ).length;

            // Update UI
            document.getElementById('todayPresent').textContent = presentCount;
            document.getElementById('todayLate').textContent = lateCount;
            document.getElementById('todayAbsent').textContent = absentCount;
            document.getElementById('todayLeave').textContent = leaveCount;
        }

        // Load dashboard charts
        function loadDashboardCharts() {
            // Line chart - Attendance trend
            const ctx1 = document.getElementById('attendanceChart');
            if (attendanceChart) {
                attendanceChart.destroy();
            }

            // Generate sample data for last 30 days
            const labels = [];
            const presentData = [];
            const lateData = [];

            for (let i = 29; i >= 0; i--) {
                const date = new Date();
                date.setDate(date.getDate() - i);
                labels.push(date.toLocaleDateString('id-ID', { day: 'numeric', month: 'short' }));

                // Random data for demo
                presentData.push(Math.floor(Math.random() * 50) + 40);
                lateData.push(Math.floor(Math.random() * 10) + 2);
            }

            attendanceChart = new Chart(ctx1, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [
                        {
                            label: 'Hadir',
                            data: presentData,
                            borderColor: '#10b981',
                            backgroundColor: 'rgba(16, 185, 129, 0.1)',
                            tension: 0.4,
                            fill: true
                        },
                        {
                            label: 'Terlambat',
                            data: lateData,
                            borderColor: '#f59e0b',
                            backgroundColor: 'rgba(245, 158, 11, 0.1)',
                            tension: 0.4,
                            fill: true
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'top',
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            grid: {
                                drawBorder: false
                            }
                        },
                        x: {
                            grid: {
                                display: false
                            }
                        }
                    }
                }
            });

            // Pie chart - Attendance distribution
            const ctx2 = document.getElementById('attendancePieChart');
            if (attendancePieChart) {
                attendancePieChart.destroy();
            }

            attendancePieChart = new Chart(ctx2, {
                type: 'doughnut',
                data: {
                    labels: ['Hadir', 'Terlambat', 'Cuti', 'Tidak Hadir'],
                    datasets: [{
                        data: [45, 8, 7, 3],
                        backgroundColor: [
                            '#10b981',
                            '#f59e0b',
                            '#3b82f6',
                            '#ef4444'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'right',
                        }
                    }
                }
            });
        }

        // Load recent attendance
        function loadRecentAttendance() {
            const tableBody = document.querySelector('#recentAttendanceTable tbody');
            tableBody.innerHTML = '';

            // Generate sample data
            const sampleData = [
                { name: 'John Doe', id: 'EMP001', time: '07:58', status: 'present', location: 'Kantor Pusat', shift: 'Pagi' },
                { name: 'Jane Smith', id: 'EMP002', time: '08:15', status: 'late', location: 'Kantor Pusat', shift: 'Pagi' },
                { name: 'Robert Johnson', id: 'EMP003', time: '07:55', status: 'present', location: 'Kantor Pusat', shift: 'Pagi' },
                { name: 'Sarah Williams', id: 'EMP004', time: '08:20', status: 'late', location: 'Gudang Utama', shift: 'Pagi' },
                { name: 'Michael Brown', id: 'EMP005', time: '07:45', status: 'present', location: 'Kantor Pusat', shift: 'Pagi' }
            ];

            sampleData.forEach(data => {
                const row = document.createElement('tr');
                const statusClass = data.status === 'present' ? 'status-present' : 'status-late';
                const statusText = data.status === 'present' ? 'Hadir' : 'Terlambat';

                row.innerHTML = `
                    <td>
                        <div class="employee-info">
                            <div class="employee-avatar">${data.name.split(' ').map(n => n[0]).join('')}</div>
                            <div class="employee-details">
                                <h4>${data.name}</h4>
                                <p>${data.id}</p>
                            </div>
                        </div>
                    </td>
                    <td>${data.time}</td>
                    <td><span class="status-badge ${statusClass}">${statusText}</span></td>
                    <td>${data.location}</td>
                    <td>${data.shift}</td>
                    <td>
                        <div class="action-dropdown">
                            <button class="btn btn-secondary" style="padding: 4px 8px; font-size: 12px;">
                                <i class="fas fa-ellipsis-h"></i>
                            </button>
                        </div>
                    </td>
                `;
                tableBody.appendChild(row);
            });
        }

        // Load attendance page
        function loadAttendancePage() {
            // Update current attendance status
            updateAttendanceStatus();

            // Load personal attendance history
            loadPersonalAttendance();
        }

        // Update attendance status
        function updateAttendanceStatus() {
            const now = new Date();
            const today = now.toISOString().split('T')[0];
            const userAttendance = attendance.filter(a => a.employeeId === currentUser.id && a.date === today);

            let checkInTime = '--:--';
            let checkOutTime = '--:--';
            let workHours = '0:00';
            let status = 'Belum Absen';

            if (userAttendance.length > 0) {
                const checkIn = userAttendance.find(a => a.type === 'checkin');
                const checkOut = userAttendance.find(a => a.type === 'checkout');

                if (checkIn) {
                    checkInTime = new Date(checkIn.timestamp).toLocaleTimeString('id-ID', { hour: '2-digit', minute: '2-digit' });
                    status = checkIn.status === 'late' ? 'Terlambat' : 'Hadir';

                    if (checkOut) {
                        checkOutTime = new Date(checkOut.timestamp).toLocaleTimeString('id-ID', { hour: '2-digit', minute: '2-digit' });

                        // Calculate work hours
                        const start = new Date(checkIn.timestamp);
                        const end = new Date(checkOut.timestamp);
                        const diffMs = end - start;
                        const diffHrs = Math.floor(diffMs / (1000 * 60 * 60));
                        const diffMins = Math.floor((diffMs % (1000 * 60 * 60)) / (1000 * 60));
                        workHours = `${diffHrs}:${diffMins.toString().padStart(2, '0')}`;
                        status = 'Selesai Bekerja';
                    }
                }
            }

            // Update UI
            document.getElementById('todayCheckIn').textContent = checkInTime;
            document.getElementById('todayCheckOut').textContent = checkOutTime;
            document.getElementById('todayWorkHours').textContent = workHours;
            document.getElementById('attendanceStatusText').textContent = status;

            // Update check-in/out button
            const checkInOutBtn = document.getElementById('checkInOutBtn');
            if (userAttendance.length === 0) {
                checkInOutBtn.innerHTML = '<i class="fas fa-fingerprint"></i> Check-in';
                checkInOutBtn.disabled = false;
            } else if (!userAttendance.find(a => a.type === 'checkout')) {
                checkInOutBtn.innerHTML = '<i class="fas fa-sign-out-alt"></i> Check-out';
                checkInOutBtn.disabled = false;
            } else {
                checkInOutBtn.innerHTML = '<i class="fas fa-check-circle"></i> Selesai';
                checkInOutBtn.disabled = true;
            }
        }

        // Load personal attendance
        function loadPersonalAttendance() {
            const tableBody = document.querySelector('#personalAttendanceTable tbody');
            tableBody.innerHTML = '';

            // Generate sample data for current month
            const currentMonth = new Date().getMonth();
            const currentYear = new Date().getFullYear();
            const daysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate();

            for (let day = 1; day <= daysInMonth; day++) {
                const date = new Date(currentYear, currentMonth, day);
                if (date.getDay() === 0 || date.getDay() === 6) continue; // Skip weekends

                const dateStr = date.toISOString().split('T')[0];
                const dayAttendance = attendance.filter(a => a.employeeId === currentUser.id && a.date === dateStr);

                let checkIn = '--:--';
                let checkOut = '--:--';
                let workHours = '0:00';
                let status = 'status-absent';
                let statusText = 'Tidak Hadir';

                if (dayAttendance.length > 0) {
                    const checkInRecord = dayAttendance.find(a => a.type === 'checkin');
                    const checkOutRecord = dayAttendance.find(a => a.type === 'checkout');

                    if (checkInRecord) {
                        checkIn = new Date(checkInRecord.timestamp).toLocaleTimeString('id-ID', { hour: '2-digit', minute: '2-digit' });

                        if (checkInRecord.status === 'late') {
                            status = 'status-late';
                            statusText = 'Terlambat';
                        } else {
                            status = 'status-present';
                            statusText = 'Hadir';
                        }

                        if (checkOutRecord) {
                            checkOut = new Date(checkOutRecord.timestamp).toLocaleTimeString('id-ID', { hour: '2-digit', minute: '2-digit' });

                            // Calculate work hours
                            const start = new Date(checkInRecord.timestamp);
                            const end = new Date(checkOutRecord.timestamp);
                            const diffMs = end - start;
                            const diffHrs = Math.floor(diffMs / (1000 * 60 * 60));
                            const diffMins = Math.floor((diffMs % (1000 * 60 * 60)) / (1000 * 60));
                            workHours = `${diffHrs}:${diffMins.toString().padStart(2, '0')}`;
                        }
                    }
                }

                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${date.toLocaleDateString('id-ID', { weekday: 'short', day: 'numeric', month: 'short' })}</td>
                    <td>${checkIn}</td>
                    <td>${checkOut}</td>
                    <td>${workHours}</td>
                    <td><span class="status-badge ${status}">${statusText}</span></td>
                    <td>Kantor Pusat</td>
                `;
                tableBody.appendChild(row);
            }
        }

        // Load employees page
        function loadEmployeesPage() {
            // Update statistics
            document.getElementById('totalEmployees').textContent = employees.length;
            document.getElementById('activeEmployees').textContent = employees.filter(e => e.status === 'active').length;
            document.getElementById('avgAttendance').textContent = '92%';
            document.getElementById('totalDepartments').textContent = [...new Set(employees.map(e => e.department))].length;

            // Load employees table
            loadEmployeesTable();
        }

        // Load employees table
        function loadEmployeesTable() {
            const tableBody = document.querySelector('#employeesTable tbody');
            tableBody.innerHTML = '';

            if (employees.length === 0) {
                tableBody.innerHTML = `
                    <tr>
                        <td colspan="7" style="text-align: center; padding: 40px;">
                            <i class="fas fa-users" style="font-size: 48px; color: var(--text-light); margin-bottom: 16px; display: block;"></i>
                            <p style="color: var(--text-secondary);">Belum ada data karyawan</p>
                        </td>
                    </tr>
                `;
                return;
            }

            employees.forEach(employee => {
                const row = document.createElement('tr');
                const attendanceRate = Math.floor(Math.random() * 10) + 85; // Random attendance rate for demo
                const location = locations.find(l => l.id === employee.location)?.name || 'Tidak ditentukan';
                const shift = shifts.find(s => s.id === employee.shift)?.name || 'Tidak ditentukan';

                row.innerHTML = `
                    <td>
                        <div class="employee-info">
                            <div class="employee-avatar">${employee.avatar}</div>
                            <div class="employee-details">
                                <h4>${employee.name}</h4>
                                <p>${employee.department}  ${employee.position}</p>
                            </div>
                        </div>
                    </td>
                    <td>${employee.id}</td>
                    <td>${employee.department}</td>
                    <td>${employee.position}</td>
                    <td><span class="status-badge status-present">Aktif</span></td>
                    <td>
                        <div style="display: flex; align-items: center; gap: 8px;">
                            <span>${attendanceRate}%</span>
                            <div style="flex: 1; height: 6px; background: var(--border-color); border-radius: 3px; overflow: hidden;">
                                <div style="width: ${attendanceRate}%; height: 100%; background: var(--accent-color);"></div>
                            </div>
                        </div>
                    </td>
                    <td>
                        <div class="action-dropdown">
                            <button class="btn btn-secondary" style="padding: 4px 8px; font-size: 12px;" onclick="showEmployeeActions('${employee.id}')">
                                <i class="fas fa-ellipsis-h"></i>
                            </button>
                        </div>
                    </td>
                `;
                tableBody.appendChild(row);
            });

            // Setup search functionality
            const searchInput = document.getElementById('employeeSearch');
            if (searchInput) {
                searchInput.addEventListener('input', function () {
                    const searchTerm = this.value.toLowerCase();
                    const rows = tableBody.querySelectorAll('tr');

                    rows.forEach(row => {
                        const text = row.textContent.toLowerCase();
                        row.style.display = text.includes(searchTerm) ? '' : 'none';
                    });
                });
            }
        }

        // Load leave page
        function loadLeavePage() {
            // Update statistics
            const pendingLeaves = leaves.filter(l => l.status === 'pending').length;
            const approvedLeaves = leaves.filter(l => l.status === 'approved').length;
            const rejectedLeaves = leaves.filter(l => l.status === 'rejected').length;

            document.getElementById('pendingLeaves').textContent = pendingLeaves;
            document.getElementById('approvedLeaves').textContent = approvedLeaves;
            document.getElementById('rejectedLeaves').textContent = rejectedLeaves;

            // Load leaves table
            loadLeavesTable();
        }

        // Load leaves table
        function loadLeavesTable() {
            const tableBody = document.querySelector('#leavesTable tbody');
            tableBody.innerHTML = '';

            // Sample leave data
            const sampleLeaves = [
                {
                    employeeName: 'John Doe',
                    employeeId: 'EMP001',
                    type: 'Cuti Tahunan',
                    startDate: '2024-03-15',
                    endDate: '2024-03-17',
                    duration: 3,
                    status: 'pending',
                    reason: 'Liburan keluarga'
                },
                {
                    employeeName: 'Jane Smith',
                    employeeId: 'EMP002',
                    type: 'Sakit',
                    startDate: '2024-03-10',
                    endDate: '2024-03-10',
                    duration: 1,
                    status: 'approved',
                    reason: 'Flu dan demam'
                },
                {
                    employeeName: 'Robert Johnson',
                    employeeId: 'EMP003',
                    type: 'Cuti Tahunan',
                    startDate: '2024-03-20',
                    endDate: '2024-03-22',
                    duration: 3,
                    status: 'rejected',
                    reason: 'Urusan keluarga'
                }
            ];

            if (sampleLeaves.length === 0) {
                tableBody.innerHTML = `
                    <tr>
                        <td colspan="7" style="text-align: center; padding: 40px;">
                            <i class="fas fa-calendar-alt" style="font-size: 48px; color: var(--text-light); margin-bottom: 16px; display: block;"></i>
                            <p style="color: var(--text-secondary);">Belum ada pengajuan cuti</p>
                        </td>
                    </tr>
                `;
                return;
            }

            sampleLeaves.forEach(leave => {
                const row = document.createElement('tr');
                const statusClass = leave.status === 'approved' ? 'status-present' :
                    leave.status === 'rejected' ? 'status-absent' : 'status-late';
                const statusText = leave.status === 'approved' ? 'Disetujui' :
                    leave.status === 'rejected' ? 'Ditolak' : 'Pending';
                const dateRange = `${new Date(leave.startDate).toLocaleDateString('id-ID')} - ${new Date(leave.endDate).toLocaleDateString('id-ID')}`;

                row.innerHTML = `
                    <td>
                        <div class="employee-info">
                            <div class="employee-avatar">${leave.employeeName.split(' ').map(n => n[0]).join('')}</div>
                            <div class="employee-details">
                                <h4>${leave.employeeName}</h4>
                                <p>${leave.employeeId}</p>
                            </div>
                        </div>
                    </td>
                    <td>${leave.type}</td>
                    <td>${dateRange}</td>
                    <td>${leave.duration} hari</td>
                    <td><span class="status-badge ${statusClass}">${statusText}</span></td>
                    <td>${leave.reason}</td>
                    <td>
                        <div class="action-dropdown">
                            <button class="btn btn-secondary" style="padding: 4px 8px; font-size: 12px;">
                                <i class="fas fa-ellipsis-h"></i>
                            </button>
                        </div>
                    </td>
                `;
                tableBody.appendChild(row);
            });
        }

        // Load locations page
        function loadLocationsPage() {
            // Load locations cards
            loadLocationCards();

            // Load location attendance table
            loadLocationAttendanceTable();
        }

        // Load location cards
        function loadLocationCards() {
            const container = document.querySelector('#locationsPage .dashboard-cards');
            container.innerHTML = '';

            locations.forEach(location => {
                const card = document.createElement('div');
                card.className = 'card';

                // Count employees at this location
                const employeeCount = employees.filter(e => e.location === location.id).length;

                // Count attendance at this location today
                const today = new Date().toISOString().split('T')[0];
                const attendanceCount = attendance.filter(a =>
                    a.location === location.code && a.date === today && a.type === 'checkin'
                ).length;

                card.innerHTML = `
                    <div class="card-header">
                        <div>
                            <div class="card-title">${location.name}</div>
                            <div class="card-value">${attendanceCount}/${employeeCount}</div>
                        </div>
                        <div class="card-icon icon-present">
                            <i class="fas fa-map-marker-alt"></i>
                        </div>
                    </div>
                    <div style="margin-top: 16px;">
                        <p style="font-size: 12px; color: var(--text-secondary); margin-bottom: 8px;">${location.address}</p>
                        <div style="display: flex; justify-content: space-between; font-size: 12px;">
                            <span>Kode: ${location.code}</span>
                            <span>Radius: ${location.radius}m</span>
                        </div>
                    </div>
                    <div style="margin-top: 16px; display: flex; gap: 8px;">
                        <button class="btn btn-secondary" style="flex: 1; padding: 8px; font-size: 12px;" onclick="showLocationQR('${location.id}')">
                            <i class="fas fa-qrcode"></i> QR Code
                        </button>
                        <button class="btn btn-secondary" style="flex: 1; padding: 8px; font-size: 12px;" onclick="editLocation('${location.id}')">
                            <i class="fas fa-edit"></i> Edit
                        </button>
                    </div>
                `;
                container.appendChild(card);
            });
        }

        // Load location attendance table
        function loadLocationAttendanceTable() {
            const tableBody = document.querySelector('#locationAttendanceTable tbody');
            tableBody.innerHTML = '';

            locations.forEach(location => {
                const employeeCount = employees.filter(e => e.location === location.id).length;
                const today = new Date().toISOString().split('T')[0];

                const attendanceToday = attendance.filter(a =>
                    a.location === location.code && a.date === today && a.type === 'checkin'
                );

                const presentCount = attendanceToday.filter(a => a.status === 'present').length;
                const lateCount = attendanceToday.filter(a => a.status === 'late').length;
                const absentCount = employeeCount - presentCount - lateCount;
                const percentage = employeeCount > 0 ? Math.round((presentCount / employeeCount) * 100) : 0;

                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${location.name}</td>
                    <td>${employeeCount}</td>
                    <td>${presentCount}</td>
                    <td>${lateCount}</td>
                    <td>${absentCount}</td>
                    <td>
                        <div style="display: flex; align-items: center; gap: 8px;">
                            <span>${percentage}%</span>
                            <div style="flex: 1; height: 6px; background: var(--border-color); border-radius: 3px; overflow: hidden;">
                                <div style="width: ${percentage}%; height: 100%; background: var(--accent-color);"></div>
                            </div>
                        </div>
                    </td>
                `;
                tableBody.appendChild(row);
            });
        }

        // Load shifts page
        function loadShiftsPage() {
            // Update statistics
            document.getElementById('totalShifts').textContent = shifts.length;
            document.getElementById('morningShift').textContent = shifts.filter(s => s.name.includes('Pagi')).length;
            document.getElementById('afternoonShift').textContent = shifts.filter(s => s.name.includes('Siang')).length;
            document.getElementById('nightShift').textContent = shifts.filter(s => s.name.includes('Malam')).length;

            // Load shifts table
            loadShiftsTable();
        }

        // Load shifts table
        function loadShiftsTable() {
            const tableBody = document.querySelector('#shiftsTable tbody');
            tableBody.innerHTML = '';

            shifts.forEach(shift => {
                const row = document.createElement('tr');
                const employeeCount = shift.employeeCount || 0;
                const statusClass = shift.status === 'active' ? 'status-present' : 'status-absent';
                const statusText = shift.status === 'active' ? 'Aktif' : 'Non-Aktif';

                row.innerHTML = `
                    <td>${shift.name}</td>
                    <td>${shift.startTime}</td>
                    <td>${shift.endTime}</td>
                    <td>${shift.duration} jam</td>
                    <td>${shift.tolerance} menit</td>
                    <td>${employeeCount} karyawan</td>
                    <td><span class="status-badge ${statusClass}">${statusText}</span></td>
                    <td>
                        <div class="action-dropdown">
                            <button class="btn btn-secondary" style="padding: 4px 8px; font-size: 12px;">
                                <i class="fas fa-ellipsis-h"></i>
                            </button>
                        </div>
                    </td>
                `;
                tableBody.appendChild(row);
            });
        }

        // Load reports page
        function loadReportsPage() {
            // Populate location dropdown
            const locationSelect = document.getElementById('reportLocation');
            locationSelect.innerHTML = '<option value="">Semua Lokasi</option>';
            locations.forEach(location => {
                const option = document.createElement('option');
                option.value = location.id;
                option.textContent = location.name;
                locationSelect.appendChild(option);
            });

            // Load report table
            loadReportTable();
        }

        // Load report table
        function loadReportTable() {
            const tableBody = document.querySelector('#reportTable tbody');
            tableBody.innerHTML = '';

            // Generate sample report data
            employees.forEach(employee => {
                const presentCount = Math.floor(Math.random() * 20) + 15;
                const lateCount = Math.floor(Math.random() * 5);
                const leaveCount = Math.floor(Math.random() * 3);
                const workHours = (presentCount * 8) + Math.floor(Math.random() * 10);
                const overtime = Math.floor(Math.random() * 10);
                const percentage = Math.floor((presentCount / 22) * 100);

                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${employee.name}</td>
                    <td>${employee.department}</td>
                    <td>${presentCount}</td>
                    <td>${lateCount}</td>
                    <td>${leaveCount}</td>
                    <td>${workHours} jam</td>
                    <td>${overtime} jam</td>
                    <td>${percentage}%</td>
                `;
                tableBody.appendChild(row);
            });
        }

        // Load settings page
        function loadSettingsPage() {
            // Already loaded in HTML
        }

        // Update clock
        function updateClock() {
            const now = new Date();
            const timeStr = now.toLocaleTimeString('id-ID');
            const dateStr = now.toLocaleDateString('id-ID', {
                weekday: 'long',
                day: 'numeric',
                month: 'long',
                year: 'numeric'
            });

            const currentTime = document.getElementById('currentTime');
            const currentDate = document.getElementById('currentDate');

            if (currentTime) currentTime.textContent = timeStr;
            if (currentDate) currentDate.textContent = dateStr;
        }

        // Open check-in modal
        function openCheckInModal() {
            checkInModal.classList.add('active');
        }

        // Open check-out modal
        function openCheckOutModal() {
            // For demo, just show a success message
            const now = new Date();
            const checkOutTime = now.toLocaleTimeString('id-ID', { hour: '2-digit', minute: '2-digit' });

            alert(`Check-out berhasil pada pukul ${checkOutTime}`);

            // Update attendance status
            updateAttendanceStatus();
        }

        // Process check-in
        function processCheckIn(locationCode) {
            const location = locations.find(l => l.code === locationCode);
            if (!location) {
                alert('Kode lokasi tidak valid');
                return;
            }

            const now = new Date();
            const today = now.toISOString().split('T')[0];

            // Check if already checked in today
            const existingCheckIn = attendance.find(a =>
                a.employeeId === currentUser.id &&
                a.date === today &&
                a.type === 'checkin'
            );

            if (existingCheckIn) {
                alert('Anda sudah check-in hari ini');
                checkInModal.classList.remove('active');
                return;
            }

            // Determine if late
            const shift = shifts.find(s => s.id === currentUser.shiftId);
            let status = 'present';

            if (shift) {
                const checkInTime = now.getHours() * 60 + now.getMinutes();
                const shiftStartTime = parseInt(shift.startTime.split(':')[0]) * 60 + parseInt(shift.startTime.split(':')[1]);

                if (checkInTime > shiftStartTime + shift.tolerance) {
                    status = 'late';
                }
            }

            // Create attendance record
            const attendanceRecord = {
                id: `ATT${Date.now()}`,
                employeeId: currentUser.id,
                employeeName: currentUser.name,
                date: today,
                timestamp: now.toISOString(),
                type: 'checkin',
                status: status,
                location: location.code,
                department: currentUser.department
            };

            attendance.push(attendanceRecord);
            localStorage.setItem('talenta_attendance', JSON.stringify(attendance));

            // Close modal and show success
            checkInModal.classList.remove('active');
            alert(`Check-in berhasil di ${location.name} (${status === 'late' ? 'Terlambat' : 'Tepat waktu'})`);

            // Update UI
            updateAttendanceStatus();
            updateDashboardStats();
            loadRecentAttendance();
        }

        // Open add employee modal
        function openAddEmployeeModal() {
            // Populate location dropdown
            const locationSelect = document.getElementById('employeeLocation');
            locationSelect.innerHTML = '<option value="">Pilih Lokasi</option>';
            locations.forEach(location => {
                const option = document.createElement('option');
                option.value = location.id;
                option.textContent = location.name;
                locationSelect.appendChild(option);
            });

            // Populate shift dropdown
            const shiftSelect = document.getElementById('employeeShift');
            shiftSelect.innerHTML = '<option value="">Pilih Shift</option>';
            shifts.forEach(shift => {
                const option = document.createElement('option');
                option.value = shift.id;
                option.textContent = shift.name;
                shiftSelect.appendChild(option);
            });

            addEmployeeModal.classList.add('active');
        }

        // Add new employee
        function addEmployee() {
            const name = document.getElementById('employeeName').value;
            const email = document.getElementById('employeeEmail').value;
            const phone = document.getElementById('employeePhone').value;
            const department = document.getElementById('employeeDepartment').value;
            const position = document.getElementById('employeePosition').value;
            const location = document.getElementById('employeeLocation').value;
            const shift = document.getElementById('employeeShift').value;

            // Generate employee ID
            const nextId = employees.length + 1;
            const employeeId = `EMP${nextId.toString().padStart(3, '0')}`;

            // Create employee object
            const newEmployee = {
                id: employeeId,
                name: name,
                email: email,
                phone: phone,
                department: department,
                position: position,
                location: location,
                shift: shift,
                status: 'active',
                joinDate: new Date().toISOString().split('T')[0],
                avatar: name.split(' ').map(n => n[0]).join('')
            };

            employees.push(newEmployee);
            localStorage.setItem('talenta_employees', JSON.stringify(employees));

            // Close modal and show success
            addEmployeeModal.classList.remove('active');
            alert(`Karyawan ${name} berhasil ditambahkan dengan ID: ${employeeId}`);

            // Reload employees page
            loadEmployeesPage();
        }

        // Open add location modal
        function openAddLocationModal() {
            addLocationModal.classList.add('active');
        }

        // Add new location
        function addLocation() {
            const name = document.getElementById('locationName').value;
            const address = document.getElementById('locationAddress').value;
            const code = document.getElementById('locationCode').value;
            const radius = document.getElementById('locationRadius').value;
            const coordinates = document.getElementById('locationCoordinates').value;

            // Check if code already exists
            if (locations.some(l => l.code === code)) {
                alert('Kode lokasi sudah digunakan');
                return;
            }

            // Create location object
            const newLocation = {
                id: `LOC${Date.now().toString().slice(-6)}`,
                code: code,
                name: name,
                address: address,
                radius: parseInt(radius),
                coordinates: coordinates,
                status: 'active'
            };

            locations.push(newLocation);
            localStorage.setItem('talenta_locations', JSON.stringify(locations));

            // Close modal and show success
            addLocationModal.classList.remove('active');
            alert(`Lokasi ${name} berhasil ditambahkan`);

            // Reload locations page
            loadLocationsPage();
        }

        // Open QR code modal
        function openQRCodeModal() {
            // For demo, show first location
            if (locations.length > 0) {
                const location = locations[0];
                document.getElementById('qrcodeLocationName').textContent = location.name;
                document.getElementById('qrcodeLocationCode').textContent = location.code;
                qrcodeModal.classList.add('active');
            }
        }

        // Global functions for inline event handlers
        window.showEmployeeActions = function (employeeId) {
            // Show action menu for employee
            alert(`Aksi untuk karyawan ${employeeId}`);
        };

        window.showLocationQR = function (locationId) {
            const location = locations.find(l => l.id === locationId);
            if (location) {
                document.getElementById('qrcodeLocationName').textContent = location.name;
                document.getElementById('qrcodeLocationCode').textContent = location.code;
                qrcodeModal.classList.add('active');
            }
        };

        window.editLocation = function (locationId) {
            const location = locations.find(l => l.id === locationId);
            if (location) {
                // Pre-fill form
                document.getElementById('locationName').value = location.name;
                document.getElementById('locationAddress').value = location.address;
                document.getElementById('locationCode').value = location.code;
                document.getElementById('locationRadius').value = location.radius;
                document.getElementById('locationCoordinates').value = location.coordinates;

                // Show modal
                addLocationModal.classList.add('active');

                // Change form to edit mode
                const form = document.getElementById('locationForm');
                form.onsubmit = function (e) {
                    e.preventDefault();

                    // Update location
                    location.name = document.getElementById('locationName').value;
                    location.address = document.getElementById('locationAddress').value;
                    location.code = document.getElementById('locationCode').value;
                    location.radius = parseInt(document.getElementById('locationRadius').value);
                    location.coordinates = document.getElementById('locationCoordinates').value;

                    localStorage.setItem('talenta_locations', JSON.stringify(locations));
                    addLocationModal.classList.remove('active');
                    alert('Lokasi berhasil diperbarui');
                    loadLocationsPage();
                };
            }
        };
    </script>
</body>

</html>